---
phase: 04-integration-fixes-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/sara/references/delegation-model.md
  - skills/sara/references/work-product-standards.md
  - skills/sara/references/deal-workflows.md
  - docx-tools/cli/gen_calendar.py
  - README.md
autonomous: true
requirements: [DLGT-01, KNOW-01, KNOW-02, REVQ-05, DEAL-03]

must_haves:
  truths:
    - "Contract-Reviser and Document-Reviewer briefing templates include a Reference File Coverage field that tells subagents which checklist categories have firm-specific content vs [TODO] placeholders"
    - "work-product-standards.md references the canonical contract-review-workflow.md at skills/sara/references/, not the stale root-level copy"
    - "deal-workflows.md Workflow 3 Step 3 explicitly names the Closing Document Briefing Template in delegation-model.md"
    - "Stale root-level references/ directory no longer exists"
    - "gen_calendar.py docstring says gen_calendar.py, not calendar.py"
    - "README.md lists skill name as sara, not sara-associate"
  artifacts:
    - path: "skills/sara/references/delegation-model.md"
      provides: "Reference File Coverage field in 2 briefing templates"
      contains: "Reference File Coverage"
    - path: "skills/sara/references/work-product-standards.md"
      provides: "Canonical path to contract-review-workflow.md"
      contains: "${CLAUDE_PLUGIN_ROOT}/skills/sara/references/contract-review-workflow.md"
    - path: "skills/sara/references/deal-workflows.md"
      provides: "Closing Document Briefing Template cross-reference in Workflow 3"
      contains: "Closing Document Briefing Template in delegation-model.md"
    - path: "docx-tools/cli/gen_calendar.py"
      provides: "Correct filename in docstring"
      contains: "gen_calendar.py"
    - path: "README.md"
      provides: "Correct skill name"
      contains: "| `sara` |"
  key_links:
    - from: "skills/sara/references/delegation-model.md"
      to: "agents/document-reviewer.md"
      via: "Reference File Coverage field enables correct dagger marker application"
      pattern: "Reference File Coverage"
    - from: "skills/sara/references/work-product-standards.md"
      to: "skills/sara/references/contract-review-workflow.md"
      via: "Path reference points to canonical file"
      pattern: "\\$\\{CLAUDE_PLUGIN_ROOT\\}/skills/sara/references/contract-review-workflow\\.md"
    - from: "skills/sara/references/deal-workflows.md"
      to: "skills/sara/references/delegation-model.md"
      via: "Workflow 3 Step 3 cross-references specific briefing template"
      pattern: "Closing Document Briefing Template in delegation-model\\.md"
---

<objective>
Close all 3 integration gaps (INT-01, INT-02, INT-03) and 3 tech debt items identified by the v1.0 milestone audit. These are 6 precise, surgical edits to existing files -- no new features, no architectural changes.

Purpose: Ensure cross-phase wiring is complete (delegation templates prompt for reference file status, paths point to canonical files, workflow steps reference specific templates) and eliminate documentation drift (stale directory, wrong filenames, wrong skill name).

Output: 5 files edited, 1 directory deleted. All 6 success criteria from Phase 4 satisfied.
</objective>

<execution_context>
@/home/david/.claude/get-shit-done/workflows/execute-plan.md
@/home/david/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/v1.0-MILESTONE-AUDIT.md
@.planning/phases/04-integration-fixes-cleanup/04-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix 3 integration gaps (INT-01, INT-02, INT-03)</name>
  <files>
    skills/sara/references/delegation-model.md
    skills/sara/references/work-product-standards.md
    skills/sara/references/deal-workflows.md
  </files>
  <action>
**INT-01: Add Reference File Coverage field to 2 briefing templates in delegation-model.md**

In the Contract-Reviser Briefing Template (starts at line 16), add a new section INSIDE the code block, between "Prior Batch Changes" (line 42) and "Output Requirements" (line 44). Insert these 3 lines after line 42:

```
### Reference File Coverage
[Coverage status from Step 3-pre: which checklist categories have firm-specific content vs [TODO] placeholders, clause library and market standards population status -- enables correct application of † source markers]
```

In the Document-Reviewer Briefing Template (starts at line 55), add a new section INSIDE the code block, between "Document Outline" (line 73) and "Output Requirements" (line 75). Insert these 3 lines after line 73:

```
### Reference File Coverage
[Coverage status from Step 3-pre: which checklist categories have firm-specific content vs [TODO] placeholders, clause library and market standards population status -- enables correct application of † source markers]
```

IMPORTANT: Only modify these 2 templates. Do NOT modify Legal-Researcher, Document-Drafter, or Closing Document Briefing Templates -- they do not apply source markers.

**INT-02: Fix stale path reference in work-product-standards.md**

At line 257, change:
```
- Follow the contract review workflow in `references/contract-review-workflow.md`
```
To:
```
- Follow the contract review workflow in `${CLAUDE_PLUGIN_ROOT}/skills/sara/references/contract-review-workflow.md`
```

Use `${CLAUDE_PLUGIN_ROOT}` prefix -- this is the established path convention in the codebase (see SKILL.md lines 82-84, 390-391). Do NOT use a relative path.

**INT-03: Add briefing template cross-reference in deal-workflows.md Workflow 3**

At line 361, change:
```
Sara drafts closing documents from scratch (no pre-built templates). For delegation: Sara extracts deal terms and provides precise specifications, then delegates individual document drafting to document-drafter if doing so improves quality. Sara reviews each draft before finalizing.
```
To:
```
Sara drafts closing documents from scratch (no pre-built templates). For delegation: Sara extracts deal terms and provides precise specifications using the Closing Document Briefing Template in delegation-model.md, then delegates individual document drafting to document-drafter. Sara reviews each draft before finalizing.
```

The cross-reference must name the specific template ("Closing Document Briefing Template in delegation-model.md") -- not just "delegation-model.md" generically.
  </action>
  <verify>
Verify INT-01: grep for "Reference File Coverage" in delegation-model.md -- must appear exactly 2 times (once in Contract-Reviser template, once in Document-Reviewer template). Must NOT appear in Legal-Researcher, Document-Drafter, or Closing Document templates.

Verify INT-02: grep line 257 area of work-product-standards.md for `${CLAUDE_PLUGIN_ROOT}/skills/sara/references/contract-review-workflow.md`. The old bare path `references/contract-review-workflow.md` must not appear.

Verify INT-03: grep deal-workflows.md for "Closing Document Briefing Template in delegation-model.md" -- must appear in Workflow 3 Step 3.
  </verify>
  <done>
- delegation-model.md has "Reference File Coverage" field in exactly 2 templates (Contract-Reviser, Document-Reviewer) and not in any other templates
- work-product-standards.md references `${CLAUDE_PLUGIN_ROOT}/skills/sara/references/contract-review-workflow.md` instead of bare `references/contract-review-workflow.md`
- deal-workflows.md Workflow 3 Step 3 says "using the Closing Document Briefing Template in delegation-model.md"
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix 3 tech debt items (stale directory, docstring, README)</name>
  <files>
    docx-tools/cli/gen_calendar.py
    README.md
  </files>
  <action>
**Tech debt 1: Delete stale root-level references/ directory**

Run `rm -rf references/` from the project root. This directory is UNTRACKED (never committed to git -- confirmed by `git ls-files references/` returning empty). It contains 3 pre-Phase-1 versions of files now canonical at `skills/sara/references/`. Do NOT use `git rm` -- the directory is not tracked.

**Tech debt 2: Fix gen_calendar.py docstring filename**

In `docx-tools/cli/gen_calendar.py`, lines 5-6 say `calendar.py`. Change both occurrences to `gen_calendar.py`:

Line 5: `    python docx-tools/cli/gen_calendar.py --events '<json>' --output calendar.ics`
Line 6: `    python docx-tools/cli/gen_calendar.py --events events.json --output calendar.ics`

**Tech debt 3: Fix README.md skill name**

At line 30, change:
```
| `sara-associate` | Skill | Core persona and behavioral framework |
```
To:
```
| `sara` | Skill | Core persona and behavioral framework |
```
  </action>
  <verify>
Verify deletion: `ls references/ 2>&1` should return "No such file or directory".

Verify docstring: grep gen_calendar.py for "calendar.py" -- should find only "gen_calendar.py" (the correct name), never bare "calendar.py".

Verify README: grep README.md for the skill name line -- should show `| \`sara\` |` not `| \`sara-associate\` |`.
  </verify>
  <done>
- references/ directory does not exist
- gen_calendar.py docstring says "gen_calendar.py" on both usage lines
- README.md line 30 says `sara` not `sara-associate`
  </done>
</task>

</tasks>

<verification>
All 6 Phase 4 success criteria must be TRUE:

1. `grep -c "Reference File Coverage" skills/sara/references/delegation-model.md` returns 2
2. `grep "CLAUDE_PLUGIN_ROOT.*contract-review-workflow" skills/sara/references/work-product-standards.md` returns the canonical path
3. `grep "Closing Document Briefing Template in delegation-model.md" skills/sara/references/deal-workflows.md` returns a match
4. `test ! -d references/ && echo "PASS"` returns PASS
5. `grep "gen_calendar.py" docx-tools/cli/gen_calendar.py | head -2` shows correct filename on both usage lines
6. `grep "sara" README.md | grep -v "sara-associate"` shows the corrected skill name line
</verification>

<success_criteria>
All 3 integration gaps (INT-01, INT-02, INT-03) closed. All 3 tech debt items resolved. The 6 success criteria from the Phase 4 roadmap entry are satisfied. No regressions to existing file content -- only targeted additions and corrections.
</success_criteria>

<output>
After completion, create `.planning/phases/04-integration-fixes-cleanup/04-01-SUMMARY.md`
</output>
